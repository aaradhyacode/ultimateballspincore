body {
  background: linear-gradient(135deg, #495be3, #010d63);
  color: #eee;
  font-family: "Margarine", sans-serif;
  text-align: center;
  margin: 0;
  padding: 0;
  user-select: none;
  width: 100vw;
  height: 100vh;
  overflow: hidden;
}

#label {
  font-size: 26px;
}
  
#labelmess {
  font-size: 13px;
  position: absolute;
  top: 88px;
  width: 100%;
  height: 100%;
  text-align: center;
}

#controls {
  margin-bottom: 15px;
}

#controls button, #controls select {
  margin: 0 8px 0 0;
  padding: 8px 13px;
  font-size: 16px;
  border-radius: 16px;
  border: none;
  cursor: pointer;
  /* Emerald Green Gradient */
  background: linear-gradient(135deg, #6dc98f 0%, #0bdb5a 40%, #0bbd28 100%);
  color: #0c3a20; /* Darker text for contrast */
  font-weight: bold;
  box-shadow:
    0 4px 16px 0 #50c87880, /* Emerald shadow */
    0 1.5px 0 0 #d0fdd0 inset,
    0 -1.5px 0 0 #a0e880 inset;
  position: relative;
  overflow: hidden;
  transition:
    transform 0.18s cubic-bezier(.4,2,.6,1),
    box-shadow 0.2s,
    background 0.3s,
    color 0.3s;
}

/* Crystal Shine using a pseudo-element */
#controls button:not(#settingsBtn):not(#helpBtn)::after, #controls select::after {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  background: linear-gradient(120deg, rgba(255,255,255,0.5) 10%, rgba(255,255,255,0.1) 60%);
  opacity: 0.6;
  border-radius: 16px;
  mix-blend-mode: screen;
  transition: opacity 0.3s;
}

/* Zoom and glow on hover */
#controls button:hover, #controls select:hover {
  transform: scale(1.1);
  background: linear-gradient(135deg, #a0e880 0%, #50c878 40%, #b0f2c2 100%);
  color: #004020;
  box-shadow:
    0 8px 32px 0 #50c87890, /* Deeper emerald shadow */
    0 2px 0 0 #d0fdd0 inset,
    0 -2px 0 0 #a0e880 inset;
}

#controls button:active, #controls select:active {
  transform: scale(0.98);
  box-shadow:
    0 2px 8px 0 #50c87880,
    0 1px 0 0 #d0fdd0 inset,
    0 -1px 0 0 #a0e880 inset;
}

/* Subtle border for extra crystal effect */
#controls button, #controls select {
  border: 2px solid #b0f2c2;
}

.spinBtn {
  padding: 10px 10px;
  margin: 10px;
  font-size: 16px;
  font-weight: bold;
  cursor: pointer;
  min-width: 120px;
  border: 2px solid #ccc;
  border-radius: 8px;
  background: #eee;
  color: #333;
}

.settings-btn {
  padding: 10px 10px;
  margin: 10px;
  font-size: 16px;
  font-weight: bold;
  cursor: pointer;
  min-width: 120px;
  border: 2px solid #ccc;
  border-radius: 8px;
  background: #eee;
  color: #333;
}

@keyframes spinOnce {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

#settingsBtn:hover {
  animation: spinOnce 0.4s ease;
}

#helpBtnContainer {
  position: fixed;
  top: 70px;
  right: 25px;
  overflow: visible;
  z-index: 10;
}

#helpBtn .background-circle {
  position: absolute;
  inset: 0;
  border-radius: 50%;
  background: conic-gradient(
    red 0deg 36deg, black 36deg 36deg,
    orange 36deg 72deg, black 72deg 72deg,
    yellow 72deg 108deg, black 108deg 108deg,
    green 108deg 144deg, black 144deg 144deg,
    blue 144deg 180deg, black 180deg 180deg,
    indigo 180deg 216deg, black 216deg 216deg,
    violet 216deg 252deg, black 252deg 252deg,
    brown 252deg 288deg, black 288deg 288deg,
    pink 288deg 324deg, black 324deg 324deg,
    gray 324deg 360deg
  );
  z-index: -1;
}

#helpBtn::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 50%;
  height: 100%;
  background: linear-gradient(
    120deg,
    rgba(255, 255, 255, 0.5) 0%,
    rgba(255, 255, 255, 0.8) 50%,
    rgba(255, 255, 255, 0.5) 100%
  );
  transform: skewX(-25deg);
  animation: shine 6s linear infinite;
}

@keyframes shine {
  0% {
    left: -50%;
  }
  16.67% {
    left: 150%;
  }
  100% {
    left: 150%;
  }
}

@keyframes spinTwice {
  from { transform: rotate(0deg); }
  to { transform: rotate(720deg); }
}

#helpBtn:hover .background-circle {
  animation: spinTwice 0.7s ease forwards;
}

@keyframes pulseEffect {
  0% {
    transform: scale(1);
  }
  14.29% {
    transform: scale(1.15);
  }
  28.57% {
    transform: scale(1);
  }
  100% {
    transform: scale(1);
  }
}

#helpBtn.pulse {
  animation: pulseEffect 2.5s ease-in-out infinite;
}

.center-circle {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 6px;
  height: 6px;
  background: white;
  border-radius: 50%;
  box-shadow: 0 0 8px rgba(0,0,0,0.2);
}

.triangle {
  position: absolute;
  right: 11px;
  top: 4px;
  transform: translate(-50%, -50%);
  z-index: 10;
  width: 0;
  height: 0;
  border-left: 6px solid transparent;
  border-right: 6px solid transparent;
  border-top: 13px solid white;
  pointer-events: none;
}

.highestscorebg {
  background-color: #444;
  padding: 10px;
  border-radius: 6px;
  width: max-content;
}
.score-line {
  font-size: 16px;
  color: #62d1f0;
  display: flex;
  justify-content: space-between;
  width: 185px;
  margin-left: 10px;
  margin-right: 10px;
}

.score-value {
  font-size: 16px;
  color: #f5f5dc;
  text-align: right;
}

#scoreboard {
  font-size: 19px;
  margin-bottom: 12px;
  font-weight: 600;
  text-shadow: 2px 4px 2px #0006;
}

#labelP1 {
  position: absolute;
  top: 140px;
  left: -160px;
  width: 100%;
  height: 100%;
  color: white;
  font-size: 18px;
  font-weight: bold;
}

#player1Score {
  position: absolute;
  top: 140px;
  left: -100px;
  width: 100%;
  height: 100%;
  color: white;
  font-size: 18px;
  font-weight: bold;
}

#labelP2 {
  position: absolute;
  top: 140px;
  right: -130px;
  width: 100%;
  height: 100%;
  color: white;
  font-size: 18px;
  font-weight: bold;
}

#player2Score {
  position: absolute;
  top: 140px;
  right: -188px;
  width: 100%;
  height: 100%;
  color: white;
  font-size: 18px;
  font-weight: bold;
}

#gameWrapper {
  position: relative;
  width: 100%;
  height: 100%;
  margin: 0 auto;
  overflow: hidden;
  border: none;
}

#bgCanvas {
  position: fixed;
  top: 0;
  left: 0;
  z-index: -1;
  pointer-events: none;
}

#gameCanvas {
  position: relative;
  top: 10px;
  z-index: 1;
  width: 550px;
  height: auto;
  display: block;
  margin: 0 auto;
  border: 3px solid #34495e;
  border-radius: 10px;
  background: linear-gradient(45deg, black, black);
  box-shadow: 0 0 15px #ff6a00;
}

@media screen and (max-width: 370px) {
  #gameWrapper {
    width: 100%;
    height: 100%;
  }
}

@media screen and (max-width: 1300px) {
  #gameWrapper {
    width: 100%;
    height: 100%;
  }
}

@media screen and (max-width: 2900px) {
  #gameWrapper {
    width: 100%;
    height: 100%;
  }
}

.selected-button {
  background-color: #cfcfcf;
  color: black;
  border: 1px solid white;
}

#winPopup {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: rgba(0, 0, 0, 0.9);
  padding: 30px;
  border-radius: 14px;
  border: 2px solid gray;
  color: white;
  font-size: 22px;
  z-index: 100;
  box-shadow: 0 0 12px #000;
}

#winPopup.hidden {
  display: none;
}

#popupReset {
  margin-top: 20px;
  font-size: 18px;
  padding: 10px 20px;
  background: #0dd427;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  color: black;
}

#popupReset:hover {
  background: #2ecc71;
}

#unlockPopup {
  transition: opacity 0.5s ease, transform 0.5s ease;
  opacity: 1;
  animation: fadeSlideIn 0.5s ease forwards;
}

#skinOverlay button {
  width: 50px;
  height: 50px;
  border-radius: 50%;
  border: 2px solid gray;
  margin: 5px;
}

@keyframes fadeSlideIn {
  from {
    opacity: 0;
    transform: translate(-50%, -60%);
  }
  to {
    opacity: 1;
    transform: translate(-50%, -50%);
  }
}

#startScreen {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  overflow: hidden;
  z-index: 9999;
  display: flex;
  justify-content: center;
  align-items: center;
}

#startScreen.hidden {
  display: none;
}

.start-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(135deg, #3060d1, #3060a3);
  z-index: 0;
}

.area {
  background: -webkit-linear-gradient(to left, #8f94fb, #4e54c8);  
  width: 100%;
  height: 100%;
  position: absolute; 
  top: 0;
  left: 0;
  z-index: 1;
}

.circles {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  overflow: visible;
}

.circles li {
  position: absolute;
  display: block;
  list-style: none;
  width: 20px;
  height: 20px;
  background: rgba(255, 255, 255, 0.2);
  animation: animate 25s linear infinite;
  bottom: -150px;
}

.circles li:nth-child(1){
    left: 25%;
    width: 80px;
    height: 80px;
    animation-delay: 0s;
}

.circles li:nth-child(2){
    left: 10%;
    width: 20px;
    height: 20px;
    animation-delay: 2s;
    animation-duration: 12s;
}

.circles li:nth-child(3){
    left: 70%;
    width: 20px;
    height: 20px;
    animation-delay: 4s;
}

.circles li:nth-child(4){
    left: 40%;
    width: 60px;
    height: 60px;
    animation-delay: 0s;
    animation-duration: 18s;
}

.circles li:nth-child(5){
    left: 65%;
    width: 20px;
    height: 20px;
    animation-delay: 0s;
}

.circles li:nth-child(6){
    left: 75%;
    width: 110px;
    height: 110px;
    animation-delay: 3s;
}

.circles li:nth-child(7){
    left: 35%;
    width: 150px;
    height: 150px;
    animation-delay: 7s;
}

.circles li:nth-child(8){
    left: 50%;
    width: 25px;
    height: 25px;
    animation-delay: 15s;
    animation-duration: 45s;
}

.circles li:nth-child(9){
    left: 20%;
    width: 15px;
    height: 15px;
    animation-delay: 2s;
    animation-duration: 35s;
}

.circles li:nth-child(10){
    left: 85%;
    width: 150px;
    height: 150px;
    animation-delay: 0s;
    animation-duration: 11s;
}

@keyframes animate {
  0% {
    transform: translateY(0) rotate(0deg);
    opacity: 1;
    border-radius: 2%;
  }
  100% {
    transform: translateY(-1000px) rotate(720deg);
    opacity: 0;
    border-radius: 50%;
  }
}

.startContent {
  position: relative;
  z-index: 2;
  text-align: center;
  color: white;
}

#startScreen h1 {
  font-size: 3rem;
  margin-bottom: 20px;
}

#startScreen p {
  font-size: 1.5rem;
  margin-bottom: 30px;
}

#startScreen button {
  padding: 12px 24px;
  margin: 10px;
  font-size: 1.2rem;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  background: #00aaff;
  color: white;
  transition: background 0.3s ease;
}

#startScreen button:hover {
  background: #0077cc;
}

.main{
  width: 100%;
  height: 100%;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%,-50%);
}

.wave{
  width: 100%;
  height: 100%;
  border-radius: 100%;
  background-color: transparent;
  border: 26px solid #242424;
  position: absolute;
  top: 50%;
  left: 50%;
  zIndex: 1;
  transform: translate(-50%,-50%);
  box-shadow:
6px 6px 18px 0 #3754aa33,
6px 6px 18px 0 #3754aa33 inset,
-6px 6px 18px #1c1c1c,
-6px 6px 18px #1c1c1c inset,
6px 6px 13px #1c1c1c inset;
  filter: blur(5px);
}

@keyframes ripple {
  0% {
    transform: translate(-50%, -50%) scale(0);
    opacity: 1;
  }
  45% {
    opacity: 1;
  }
  60% {
    opacity: 0.3;
  }
  80% {
    opacity: 0;
  }
  100% {
    transform: translate(-50%, -50%) scale(1.5);
    opacity: 0;
  }
}
